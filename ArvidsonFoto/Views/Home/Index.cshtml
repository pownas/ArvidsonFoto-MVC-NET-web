@*<!-- Home-Index (Startsidan) -->*@
@model GalleryViewModel

@section MetaData {
    <meta name="robots" content="noimageindex" />
    <meta name="description" content="Torbjörn Arvidson Foto - Välkommen till mitt bildarkiv. Bilder på djur och natur." />
    <link rel="canonical" href="https://ArvidsonFoto.se/" />
}

@inject IImageService _imageService
@{
    Model!.DisplayImagesList = _imageService.GetRandomNumberOfImages(12); //Hämtar (x)-antal bilder att visa på startsidan
}

<div id="page-header">
    <h2>Torbjörn Arvidson Foto <small>Välkommen till mitt bildarkiv</small></h2>
</div>

<div id="page-content" class="row">
    <div class="col-xs-12 col-sm-5">
        <p>Här finner du ett urval av mina bilder.</p>
        <p>
            Är du intresserad av att köpa högupplösta bilder? <br>
            Kontakta mig på <a href="mailto:torbjorn_arvidson@hotmail.com">torbjorn_arvidson@hotmail.com</a>.
        </p>
        <p><i>/Torbjörn Arvidson</i></p>
        <div class="text-center text-md-left">
            <figure class="figure alert alert-light" title="Torbjörn Arvidson">
                <img class="figure-img img-fluid rounded" width="420" height="420" src="./img/Torbjorn2020.jpg" alt="Bild av: Torbjörn Arvidson" title="Torbjörn Arvidson" />
                <figcaption class="figure-caption text-center text-truncate">Torbjörn Arvidson</figcaption>
            </figure>
        </div>
    </div>
    <div id="page-gallery" class="mt-3 col-12 col-sm-7">
        <partial name="../Bilder/_Gallery" model="Model" />
        <div class="text-center">
            <small>Slumpmässigt utvalda bilder</small>
        </div>
    </div><!-- /end-gallery -->
</div>

@* News Feed Section *@
@if (ViewBag.LatestNews != null && ((List<TblNews>)ViewBag.LatestNews).Count > 0)
{
    <div class="row mt-5">
        <div class="col-12">
            <h3><i class="bi bi-newspaper"></i> Senaste nyheterna</h3>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
                @foreach (var news in (List<TblNews>)ViewBag.LatestNews)
                {
                    <div class="col mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">@news.NewsTitle</h6>
                                <p class="card-text small">
                                    @if (!string.IsNullOrEmpty(news.NewsSummary))
                                    {
                                        @news.NewsSummary
                                    }
                                    else
                                    {
                                        @Html.Raw(news.NewsContent.Length > 100 ? news.NewsContent.Substring(0, 100) + "..." : news.NewsContent)
                                    }
                                </p>
                                <small class="text-muted">@news.NewsCreated?.ToString("yyyy-MM-dd")</small>
                            </div>
                            <div class="card-footer p-2">
                                <a href="/Nyheter/@news.NewsId" class="btn btn-sm btn-outline-primary">Läs mer</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="text-center">
                <a href="/Nyheter" class="btn btn-primary">
                    <i class="bi bi-newspaper"></i> Visa alla nyheter
                </a>
            </div>
        </div>
    </div>
}