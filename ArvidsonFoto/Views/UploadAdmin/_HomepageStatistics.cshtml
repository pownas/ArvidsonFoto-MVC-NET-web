@inject IImageService _imageService
@inject ICategoryService _categoryService
@inject IPageCounterService _pageCounterService
@{
    List<TblMenu> allCategories = _categoryService.GetAll().OrderByDescending(c => c.MenuPagecounter).ToList();
    List<TblMenu> shownCategories = allCategories.Take(10).ToList();
    List<TblPageCounter> monthPagesCount = _pageCounterService.GetMonthCount(DateTime.Now.ToString("yyyy-MM"));
}
<h2>Sidvisningar</h2>

<h4>denna månaden (@(DateTime.Now.ToString("yyyy-MM")))</h4>
<table class="table table-striped table-dark">
    <thead>
        <tr>
            <th scope="col" class="col-3">Visningar</th>
            <th scope="col" class="col-5">Kategori</th>
            <th scope="col" class="col-4">Senast besökt</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var pageViewed in monthPagesCount)
        {
            <tr>
                <th scope="row">@pageViewed.PageViews</th>
                <td>@pageViewed.PageName</td>
                <td>@pageViewed.LastShowDate</td>
            </tr>
        }
    </tbody>
</table>

<h4>10 mest visade kategorierna</h4>
<table class="table table-striped table-dark">
    <thead>
        <tr>
            <th scope="col" class="col-3">Visningar</th>
            <th scope="col" class="col-5">Kategori</th>
            <th scope="col" class="col-4">Senast besökt</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var category in shownCategories)
        {
            <tr>
                <th scope="row">@category.MenuPagecounter</th>
                <td>@category.MenuText</td>
                <td>@category.MenuLastshowdate</td>
            </tr>
        }
    </tbody>
</table>